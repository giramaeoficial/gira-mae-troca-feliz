/* 
 * CUSTOMIZAÇÃO DO SHEPHERD.JS
 * Todos os seletores usam prefixo .gira-tour para não conflitar
 */

/* Overlay escuro com blur */
.shepherd-modal-overlay-container {
  background: rgba(0, 0, 0, 0.65) !important;
  backdrop-filter: blur(3px);
}

/* Abertura do overlay (elemento destacado) */
.shepherd-modal-overlay-container .shepherd-modal-is-visible {
  opacity: 1;
}

/* Container do tooltip - sobrescreve Shepherd */
.gira-tour-element {
  background: white !important;
  border-radius: 20px !important;
  box-shadow: 
    0 25px 50px -12px rgba(0, 0, 0, 0.25),
    0 0 0 3px rgba(236, 72, 153, 0.3) !important;
  border: none !important;
  max-width: 380px !important;
  padding: 0 !important;
  overflow: hidden;
  font-family: inherit;
  z-index: 10000 !important;
}

/* Mobile: tooltip menor e mais compacto */
@media (max-width: 640px) {
  .gira-tour-element {
    max-width: calc(100vw - 32px) !important;
    margin: 0 16px !important;
  }
  
  /* Força posicionamento no topo ou bottom, nunca sobre o elemento */
  .shepherd-element[data-popper-placement^="top"],
  .shepherd-element[data-popper-placement^="bottom"] {
    margin-top: 16px !important;
    margin-bottom: 16px !important;
  }
  
  /* Quando não há elemento anexado, centraliza na tela */
  .shepherd-element:not([data-popper-reference-hidden]) {
    position: fixed !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
  }
}

/* Seta do tooltip */
.gira-tour-element .shepherd-arrow {
  border-color: white !important;
}

.gira-tour-element .shepherd-arrow::before {
  background: white !important;
  border: 2px solid rgba(236, 72, 153, 0.3);
}

/* Elemento destacado - classe adicionada pelo Shepherd */
.gira-highlight {
  position: relative !important;
  z-index: 9999 !important;
  border-radius: 8px;
  box-shadow: 0 0 0 4px rgba(236, 72, 153, 0.5) !important;
  pointer-events: auto !important;
}

/* Variante com animação de pulso */
.gira-highlight-pulse {
  animation: gira-pulse 2s infinite ease-in-out;
}

@keyframes gira-pulse {
  0%, 100% { 
    box-shadow: 0 0 0 4px rgba(236, 72, 153, 0.5); 
  }
  50% { 
    box-shadow: 0 0 0 8px rgba(236, 72, 153, 0.25); 
  }
}

/* Header do Shepherd escondido pois usamos o nosso customizado */
.shepherd-header {
  display: none !important;
}

.shepherd-content {
  padding: 0 !important;
}

.shepherd-text {
  padding: 0 !important;
}

/* Garantir que o tooltip não cubra o elemento no mobile */
.shepherd-element {
  margin: 12px 0 !important;
}

@media (max-width: 640px) {
  .shepherd-element {
    margin: 20px 0 !important;
  }
}